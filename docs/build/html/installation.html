

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Installation &mdash; PPMAP  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to PPMAP’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> PPMAP
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation and usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-ppmap">Installing PPMAP</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PPMAP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>PPMAP is currently configured to run on the <a class="reference external" href="https://portal.supercomputing.wales/index.php/about-hawk/">Super Computing Wales Hawk Supercomputer</a> cluster. For details on the scheduler and compiler, see <a class="reference internal" href="#requirements"><span class="std std-ref">Requirements</span></a>. The algorithm is hosted on GitHub:</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/ahoward-cf/ppmap">https://github.com/ahoward-cf/ppmap</a></p>
<p>This version has been changed to make the installation a little less
convoluted. The basics of <code class="docutils literal notranslate"><span class="pre">premap</span></code> and <code class="docutils literal notranslate"><span class="pre">ppmap</span></code> are unchanged.</p>
</div></blockquote>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The current implementation of PPMAP can work wit the SLURM or PBS schedulers, and can also run with no scheduler (NONE). PPMAP takes advantage of the current Hawk <code class="docutils literal notranslate"><span class="pre">HTC</span></code> nodes, which each contain 40
Intel Xeon Skylake Gold 6148 2.4GHz cores and 4.8GB memory per core (for a total of 192GB per node). When PPMAP is run, it breaks down the required task into up to 10 separate jobs, scheduling each on
an independent node to run simultaniously. Individual jobs are independent of one another, and thus do not require Open MPI. The algorithm uses all 40 cores on a given node, utilising OpenMP to
decrease the operation time of individual submitted jobs. Therefore PPMAP requires OpenMP to function.</p>
<p>PPMAP is currently compiled with the gfortran compiler, and utilises
<code class="docutils literal notranslate"><span class="pre">-O3</span></code> optimisation. PPMAP can also use the ifort compile, and is
known to perform well with <code class="docutils literal notranslate"><span class="pre">ifort</span> <span class="pre">Version</span> <span class="pre">10.0.2.199</span> <span class="pre">Build</span>
<span class="pre">20180210</span></code>.</p>
<p>PPMAP also needs to link to the <code class="docutils literal notranslate"><span class="pre">cfitsio</span></code> library to read fits data files. This can be downloaded from <a class="reference external" href="https://heasarc.gsfc.nasa.gov/fitsio/">https://heasarc.gsfc.nasa.gov/fitsio/</a></p>
</div>
<div class="section" id="installing-ppmap">
<h2>Installing PPMAP<a class="headerlink" href="#installing-ppmap" title="Permalink to this headline">¶</a></h2>
<p>To install:</p>
<ul class="simple">
<li><p>Clone the repository to the desired directory <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. After cloning, you should have a <code class="docutils literal notranslate"><span class="pre">ppmap/</span></code> directory with the path <code class="docutils literal notranslate"><span class="pre">PATH/ppmap/</span></code>, which contains sub-directories <code class="docutils literal notranslate"><span class="pre">src/</span></code> and <code class="docutils literal notranslate"><span class="pre">etc/</span></code>.</p></li>
<li><p>Move into the <code class="docutils literal notranslate"><span class="pre">ppmap/</span></code> direcory. Open the makefile in a text editor and make sure that the path to bash is correct and edit the <code class="docutils literal notranslate"><span class="pre">F90COMP</span></code> variable to point to the compiler that you are using</p></li>
<li><p>Put a copy of <code class="docutils literal notranslate"><span class="pre">libcfitsio.a</span></code> in the directory <code class="docutils literal notranslate"><span class="pre">src/</span></code>, or refer to your installed version in the <code class="docutils literal notranslate"><span class="pre">makefile</span></code></p></li>
<li><p>Run the makefile:</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> make
</pre></div>
</div>
<p>This should compile the <code class="docutils literal notranslate"><span class="pre">premap</span></code> and <code class="docutils literal notranslate"><span class="pre">ppmap</span></code> executables and place
them in the <code class="docutils literal notranslate"><span class="pre">ppmap/bin/</span></code> directory.</p>
<p><code class="docutils literal notranslate"><span class="pre">premap</span></code> and <code class="docutils literal notranslate"><span class="pre">ppmap</span></code> are now  ready to run.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to PPMAP’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Alexander Howard.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>